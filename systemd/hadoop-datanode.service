[Unit]
Description=Start a Hadoop datanode
After=network.target

[Service]
Type=forking
User=cluster
Environment="HADOOP_CONF_DIR=__HADOOP_CONF_DIR__"
RuntimeDirectory=hadoop
RuntimeDirectoryMode=0755
ExecStart=__HADOOP_HOME__/sbin/hadoop-daemon.sh start datanode
ExecStop=__HADOOP_HOME__/sbin/hadoop-daemon.sh stop datanode
PIDFile=%t/hadoop/hadoop-datanode.pid
Restart=always
StartLimitInterval=1min
StartLimitBurst=2

[Install]
WantedBy=default.target
